{
	"info": {
		"_postman_id": "c5e3d8a0-5f1e-4b0a-8e1c-3a9f8c5d7e6b",
		"name": "Book Exchange Platform",
		"description": "API collection for testing the Book Exchange Platform application",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\",\n    \"firstName\": \"Test\",\n    \"lastName\": \"User\"\n}"
						},
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/auth/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"auth",
								"register"
							]
						},
						"description": "Register a new user in the system"
					},
					"response": []
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/auth/login",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"auth",
								"login"
							]
						},
						"description": "Login and get JWT token"
					},
					"response": []
				}
			],
			"description": "Authentication endpoints for registering and logging in"
		},
		{
			"name": "Books",
			"item": [
				{
					"name": "Get All Books",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/books/all",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"books",
								"all"
							]
						},
						"description": "Get all books in the system"
					},
					"response": []
				},
				{
					"name": "Get Book by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/books/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"books",
								"1"
							]
						},
						"description": "Get a specific book by its ID"
					},
					"response": []
				},
				{
					"name": "Add Book",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"The Great Gatsby\",\n    \"author\": \"F. Scott Fitzgerald\",\n    \"isbn\": \"9780743273565\",\n    \"description\": \"A novel about the American Dream\",\n    \"condition\": \"GOOD\",\n    \"genre\": \"FICTION\"\n}"
						},
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/books/add",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"books",
								"add"
							]
						},
						"description": "Add a new book to the system"
					},
					"response": []
				},
				{
					"name": "Update Book",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 1,\n    \"title\": \"The Great Gatsby\",\n    \"author\": \"F. Scott Fitzgerald\",\n    \"isbn\": \"9780743273565\",\n    \"description\": \"A novel about the American Dream and its corruption\",\n    \"condition\": \"EXCELLENT\",\n    \"genre\": \"FICTION\"\n}"
						},
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/books/update",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"books",
								"update"
							]
						},
						"description": "Update an existing book"
					},
					"response": []
				},
				{
					"name": "Delete Book",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/books/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"books",
								"1"
							]
						},
						"description": "Delete a book by its ID"
					},
					"response": []
				}
			],
			"description": "Endpoints for managing books"
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get User Profile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/users/profile",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"users",
								"profile"
							]
						},
						"description": "Get the current user's profile"
					},
					"response": []
				},
				{
					"name": "Update User Profile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"firstName\": \"Updated\",\n    \"lastName\": \"User\",\n    \"address\": \"123 Main St\",\n    \"city\": \"New York\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\",\n    \"phoneNumber\": \"555-123-4567\"\n}"
						},
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/users/update",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"users",
								"update"
							]
						},
						"description": "Update the current user's profile"
					},
					"response": []
				}
			],
			"description": "Endpoints for managing user profiles"
		},
		{
			"name": "Exchanges",
			"item": [
				{
					"name": "Get All Exchanges",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/exchanges/all",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"exchanges",
								"all"
							]
						},
						"description": "Get all exchanges for the current user"
					},
					"response": []
				},
				{
					"name": "Request Exchange",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"requestedBookId\": 1,\n    \"offeredBookId\": 2,\n    \"message\": \"I would like to exchange my book for yours.\"\n}"
						},
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/exchanges/request",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"exchanges",
								"request"
							]
						},
						"description": "Request a book exchange"
					},
					"response": []
				},
				{
					"name": "Accept Exchange",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/exchanges/1/accept",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"exchanges",
								"1",
								"accept"
							]
						},
						"description": "Accept an exchange request"
					},
					"response": []
				},
				{
					"name": "Reject Exchange",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/book_exchange_platform/exchanges/1/reject",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"book_exchange_platform",
								"exchanges",
								"1",
								"reject"
							]
						},
						"description": "Reject an exchange request"
					},
					"response": []
				}
			],
			"description": "Endpoints for managing book exchanges"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Automatically save JWT token from login response",
					"if (pm.response.code === 200 && pm.request.url.toString().includes('/auth/login')) {",
					"    pm.environment.set(\"jwt_token\", pm.response.text());",
					"    console.log(\"JWT token saved to environment variable\");",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "jwt_token",
			"value": ""
		}
	]
}
